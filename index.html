<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="default">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>ูุบุชู ุงูุซุงููุฉ - ุจุฑูุงูุฌ ุงูุตูุชูุงุช</title>

  <!-- Tailwind for utility classes used in markup -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Your styles -->
  <link rel="stylesheet" href="styles.css?v=7" />

  <style>
    /* Ensure toggle works even if styles.css changes */
    .hidden { display: none !important; }

    /* Burger menu base */
    #burger-menu { position: fixed; top: 16px; right: 16px; z-index: 9999; }
    #menu-content {
      position: absolute; right: 0; margin-top: 8px; width: 280px;
      background: #fff; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,.12);
      padding: 14px;
    }
    #menu-content ul { list-style: none; margin: 0; padding: 0; }
    #menu-content li { margin: 10px 0; }
    #menu-content button, #menu-content a { background: none; border: 0; cursor: pointer; font: inherit; }
    .menu-divider { height: 1px; background: rgba(0,0,0,.08); margin: 10px 0; }
  </style>
</head>
<body class="p-4">

  <!-- Splash Screen -->
  <div id="splash-screen" class="glass-card p-12 max-w-lg text-center mx-auto mt-20">
    <div class="mb-8">
      <h1 class="welcome-title mb-4">Phonics Journey</h1>
      <p class="text-xl text-gray-600">ูุบุงูุฑุฉ ููุชุนุฉ ูุชุนูู ุงูุฃุตูุงุช ุงูุฅูุฌููุฒูุฉ</p>
    </div>
    <div class="space-y-4">
      <button id="start-btn" class="btn-primary text-xl pulse">ุฃุณุณ ุตุญ</button>
    </div>
  </div>

  <!-- Main App (hidden until start) -->
  <div id="app" class="hidden">

    <!-- Burger Menu trigger -->
    <div id="burger-menu">
      <button id="burger-btn" class="btn-secondary">โฐ</button>
      <div id="menu-content" class="hidden text-right">
        <ul>
          <li>
            <a href="https://my2ndlang.blog/" target="_blank" class="text-blue-600 font-semibold hover:underline">๐ ูููุน ูุบุชู ุงูุซุงููุฉ</a>
          </li>
          <li>
            <button id="learning-dashboard-btn" class="text-gray-700 font-semibold hover:text-blue-600">๐ ููุญุฉ ุงูุชุนูู</button>
          </li>
          <li>
            <button id="note-btn" class="text-gray-700 font-semibold hover:text-blue-600">๐ ููุงุญุธุฉ ูููุฉ</button>
          </li>
          <li>
            <button id="unlock-all-btn" class="text-gray-700 font-semibold hover:text-blue-600">๐ ูุชุญ ุฌููุน ุงููุญุฏุงุช</button>
          </li>
          <li class="menu-divider"></li>
          <li class="text-gray-700 font-semibold mb-2">๐จ ุงุฎุชุฑ ุงูุณูุฉ</li>
          <li class="flex gap-2 justify-end">
            <button class="theme-btn w-6 h-6 rounded-full" data-theme="default" title="ุงูุชุฑุงุถู" style="background:linear-gradient(135deg,#60a5fa,#a78bfa)"></button>
            <button class="theme-btn w-6 h-6 rounded-full" data-theme="ocean" title="ุงููุญูุท" style="background:linear-gradient(135deg,#22d3ee,#2563eb)"></button>
            <button class="theme-btn w-6 h-6 rounded-full" data-theme="forest" title="ุงูุบุงุจุฉ" style="background:linear-gradient(135deg,#34d399,#059669)"></button>
            <button class="theme-btn w-6 h-6 rounded-full" data-theme="sunset" title="ุงูุบุฑูุจ" style="background:linear-gradient(135deg,#fb923c,#ec4899)"></button>
          </li>
        </ul>
      </div>
    </div>

    <!-- Particles (kept) -->
    <div class="celebration-particles" id="particles-container"></div>

    <!-- Header -->
    <header class="glass-card p-4 sm:p-6 mb-6 text-center">
      <div class="flex flex-col sm:flex-row sm:justify-between items-center gap-4">
        <div class="streak-counter">๐ฅ <span id="streak-count">0</span> ููู</div>
        <h1 id="main-title" class="text-3xl font-bold text-gray-800">ุงุฎุชุฑ ููุงุฑุฉ</h1>
        <div class="text-sm text-gray-600"><span id="points-display">0 ููุทุฉ โญ</span></div>
      </div>
    </header>

    <!-- Skills view -->
    <main id="skills-view" class="glass-card p-4 sm:p-8">
      <div class="mb-8 text-center">
        <p class="text-gray-600 text-lg">ุงุฎุชุฑ ููุงุฑุฉ ูุชุจุฏุฃ ุงูุชุนูู</p>
        <div class="mt-4 text-sm text-gray-500">โจ ุฃููู ุงูููุงุฑุงุช ุงูุณุงุจูุฉ ููุชุญ ุงูููุงุฑุงุช ุงูุฌุฏูุฏุฉ</div>
      </div>
      <div id="skills-tree" class="skills-tree"></div>
    </main>

    <!-- Technique view -->
    <main id="technique-view" class="glass-card p-4 sm:p-8 hidden">
      <button id="back-btn" class="btn-secondary mb-6">โ ุฑุฌูุน</button>
      <div id="subskills-container" class="space-y-4"></div>
    </main>

    <!-- Activity modal -->
    <div id="activity-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center p-4">
      <div class="glass-card w-full max-w-4xl p-8 flex flex-col max-h-[90vh] modal-content">
        <div class="flex justify-between items-center mb-6">
          <h2 id="modal-title" class="text-3xl font-bold text-gray-800"></h2>
          <div id="modal-progress" class="text-lg text-gray-600"></div>
        </div>
        <div id="modal-body" class="flex-grow text-center overflow-y-auto"></div>
        <div id="modal-feedback" class="h-12 mt-4 text-center text-xl font-bold"></div>
        <div id="modal-footer" class="mt-6 flex justify-center items-center gap-4">
          <button id="modal-exit-btn" class="btn-secondary">ุฎุฑูุฌ</button>
          <button id="modal-action-btn" class="btn-primary">ุงูุชุงูู</button>
        </div>
      </div>
    </div>

    <!-- Success modal -->
    <div id="success-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center p-4">
      <div class="glass-card w-full max-w-md p-8 text-center modal-content">
        <div class="text-6xl mb-4">๐</div>
        <h2 class="text-3xl font-bold text-gray-800 mb-4">ุฑุงุฆุน ุฌุฏุงู!</h2>
        <p id="success-message" class="text-xl text-gray-600 mb-6"></p>
        <div id="success-reward" class="achievement-badge text-xl mb-6"></div>
        <button id="success-close-btn" class="btn-primary">ุงุณุชูุฑ</button>
      </div>
    </div>

    <!-- Teacher/Learning dashboard container -->
    <div id="teacher-dashboard" class="hidden fixed inset-0 modal-backdrop flex justify-center p-4 overflow-y-auto"></div>

    <!-- Footer -->
    <footer class="mt-12 py-6 text-center text-gray-700 bg-white bg-opacity-80 rounded-t-xl shadow-inner">
      <p class="font-bold text-lg">ูุบุชู ุงูุซุงููุฉ</p>
      <p><a href="https://my2ndlang.blog/" target="_blank" class="text-blue-600 hover:underline">my2ndlang.blog</a></p>
    </footer>
  </div> <!-- /#app -->

  <!-- Note Modal (outside #app, but hidden by default) -->
  <div id="note-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center p-4" style="z-index:9998;">
    <div class="glass-card max-w-lg w-full p-6">
      <h2 class="text-2xl font-bold mb-4">ููุงุญุธุฉ ูููุฉ</h2>
      <p class="mb-4 leading-relaxed">
        ุงูุจุฑูุงูุฌ ูุง ูุชุทูุจ ุชุณุฌูู ุฏุฎููุ ููุชู ุญูุธ ุจูุงูุงุช ุชูุฏูู ุนุจุฑ ูุชุตูุญ ุงูุฌูุงุฒ ุงูุฐู ุชุณุชุฎุฏูู ุงูุขู.
        ูู ุญุงู ุชุบููุฑ ุงููุชุตูุญ ุฃู ุงูุฌูุงุฒ ุณุชุจุฏุฃ ูู ุฌุฏูุฏ. ุฅุฐุง ุฃุฑุฏุช ูุชุงุจุนุฉ ุงูุชูุฏู ููุณูุ
        ุนููู ุงุณุชุฎุฏุงู ููุณ ุงููุชุตูุญ.
        <br><br>
        ูููููู ุฃูุถุงู ุงุฎุชูุงุฑ "ูุชุญ ุฌููุน ุงููุญุฏุงุช" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ููุงูุชูุงู ูุจุงุดุฑุฉู ูุฃู ุฏุฑุณ ูู ุญุงู ุจุฏุฃุช ูู ุฌูุงุฒ ุฌุฏูุฏ.
      </p>
      <p class="mb-4">ุฅุฐุง ูุงูุช ูุฏูู ููุงุญุธุงุช ุฃู ุงุณุชูุณุงุฑุงุชุ ูุณุนุฏูู ุชูุงุตูู ูุนู:</p>
      <div class="flex items-center gap-2 bg-gray-100 p-2 rounded-md">
        <span class="text-blue-600">hello@my2ndlang.com</span>
        <button id="copy-email" class="btn-secondary">๐ ูุณุฎ</button>
      </div>
      <div class="mt-6 text-center">
        <button id="close-note" class="btn-primary">ุฅุบูุงู</button>
      </div>
    </div>
  </div>

  <script type="module" src="main.js?v=7"></script>
</body>
</html>
